---
title: "Offense vs Defense: An Analysis in the NBA's Play Style"
author: "Team 22"
date: "2025-11-07"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("code/00_requirements.R")
load("data/22_DataSaving.RData")
```

## Abstract

Dunk or get dunked on — that’s the name of the game when it comes to the NBA. Some games are tight, some games are full-on blowouts, but nevertheless basketball is one of the most fast-paced and relentless sports. You have twenty-four seconds to sink a shot or get one put down on your hoop, and currently the rules have seemed to strongly favor offenses and penalize physical defenses. Does that mean defense is less useful now, or does defense still play just as crucial a part and simply look different from what we expect? This paper seeks to investigate what efficient defenses and offenses look like by identifying key metrics that aggregate to describe efficient play, and ultimately analyze what wins games more, scoring points or allowing points. To do the first phase of analysis, we will first split the variables up by defensive or offensive categories, test for intercategorical collinearity, and employ techniques like backwards elimination to develop statistically significant offensive and defensive models that explain a team's win within a game accurately. For the second phase of analysis, we will then create an aggregate model from the two initial models and conduct nested F-tests to determine whether the offensive model or defensive model provides the stronger signal within the aggregate. (Insert findings later)

## Introduction

The purpose of this project is to understand what contributes to better offensive and defensive efficiency in the NBA. These efficiency metrics are commonly used in basketball analytics to evaluate how effectively a team scores and prevents scoring. Coaches, analysts, and team management benefit from this type of analysis when building strategies, rotations, and roster decisions.

We focus on two questions:

1. Which performance indicators are most related to offensive efficiency?


2. Which performance indicators are most related to defensive efficiency?

Data

The data used in this project comes from the official NBA statistics website (NBA.com). We collected team-level data from the 2024–2025 regular season, including metrics such as win percentage, field goal percentages, turnovers, offensive rating (OffRtg), and defensive rating (DefRtg).

Data Cleaning Steps Performed:

Removed unnecessary variables and kept only those relevant to efficiency analysis.

Converted team names into factor format for easier interpretation.

Checked for and removed missing values where necessary.

Saved the cleaned dataset as 22_DataSaving.RData for reproducibility.

The final dataset contains 30 NBA teams and a selected set of performance metrics used throughout the analysis.


Preliminary Visualizations

Offensive Efficiency
```{r}
# eFG% vs Offensive Rating
ggplot(df, aes(x = `eFG%`, y = OffRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "eFG% vs Offensive Rating",
       x = "Effective Field Goal Percentage (eFG%)",
       y = "Offensive Rating (OffRtg)")

# FG% vs Offensive Rating
ggplot(df, aes(x = `FG%`, y = OffRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "FG% vs Offensive Rating",
       x = "Field Goal Percentage (FG%)",
       y = "Offensive Rating (OffRtg)")

# Turnover% vs Offensive Rating
ggplot(df, aes(x = `TOV%`, y = OffRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Turnover% vs Offensive Rating",
       x = "Turnover Percentage (TOV%)",
       y = "Offensive Rating (OffRtg)")
```
Observation: Teams with better shooting efficiency (higher eFG% and FG%) generally have higher offensive efficiency. Teams that commit fewer turnovers also tend to score more effectively.

Defensive Efficiency
```{r}
# Defensive Rebound% vs Defensive Rating
ggplot(df, aes(x = `DREB%`, y = DefRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Defensive Rebound% vs Defensive Rating",
       x = "Defensive Rebound Percentage (DREB%)",
       y = "Defensive Rating (DefRtg, lower is better)")

# Steals vs Defensive Rating
ggplot(df, aes(x = STL, y = DefRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Steals vs Defensive Rating",
       x = "Steals per Game",
       y = "Defensive Rating (DefRtg, lower is better)")

# Personal Fouls vs Defensive Rating
ggplot(df, aes(x = PF, y = DefRtg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Personal Fouls vs Defensive Rating",
       x = "Personal Fouls per Game",
       y = "Defensive Rating (DefRtg, lower is better)")
```

Observation: Teams that rebound well on defense and generate steals generally allow fewer points. Personal fouls do not show a clear direct relationship with defensive efficiency.

Plan for Further Analysis

In the next stage of the project, we will study how offensive and defensive efficiency relate to winning more games. Specifically, we will:

Identify whether offense or defense contributes more to win percentage.Basic data is not a good measure of the importance of offense and defense. More analysis and calculations are needed.

Create a four-quadrant "Offense vs Defense" chart to compare team play styles.

Focus on the top 10 teams in the league to determine common efficiency patterns.

This will allow us to better answer the question: Does offense or defense win more games in the NBA?

```{r}
df_top10 %>%
  select(Team, `WIN%`, OffRtg, off_rank, DefRtg, def_rank)

```
























